@@ -28,11 +28,11 @@
     if(!(expr)) {                                          \
       fprintf(stderr, "%s:%d Assertion '%s' failed: %s\n", \
               __FILE__, __LINE__, #expr, msg);             \
-      return 1;                                            \
+      return (CURLcode)1;                                  \
     }                                                      \
   } while(0)
 
-int test(char *URL)
+CURLcode test(char *URL)
 {
   int rc;
   (void)URL;
@@ -58,5 +58,5 @@ int test(char *URL)
   rc = curl_strnequal("ii", "II", 3);
   fail_unless(rc != 0, "return code should be non-zero");
 
-  return 0;
+  return CURLE_OK;
 }
