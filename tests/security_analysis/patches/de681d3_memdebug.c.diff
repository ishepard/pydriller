@@ -208,10 +208,11 @@ int curl_socket(int domain, int type, int protocol, int line,
   return sockfd;
 }
 
-int curl_accept(int s, void *saddr, socklen_t *addrlen,
+int curl_accept(int s, void *saddr, void *saddrlen,
                 int line, const char *source)
 {
   struct sockaddr *addr = (struct sockaddr *)saddr;
+  socklen_t *addrlen = (socklen_t *)saddrlen;
   int sockfd=(accept)(s, addr, addrlen);
   if(logfile)
     fprintf(logfile, "FD %s:%d accept() = %d\n",
