@@ -41,7 +41,7 @@ extern const char *serverlogfile;
 
 extern const char *cmdfile;
 
-#ifdef WIN32
+#ifdef _WIN32
 #include <process.h>
 #include <fcntl.h>
 
@@ -54,10 +54,10 @@ void win32_perror(const char *msg);
 void win32_init(void);
 void win32_cleanup(void);
 const char *sstrerror(int err);
-#else   /* WIN32 */
+#else   /* _WIN32 */
 
 #define sstrerror(e) strerror(e)
-#endif  /* WIN32 */
+#endif  /* _WIN32 */
 
 /* fopens the test case file */
 FILE *test2fopen(long testno, const char *logdir);
@@ -75,7 +75,7 @@ extern volatile int got_exit_signal;
 /* global variable which if set indicates the first signal handled */
 extern volatile int exit_signal;
 
-#ifdef WIN32
+#ifdef _WIN32
 /* global event which if set indicates that the program should finish */
 extern HANDLE exit_event;
 #endif
