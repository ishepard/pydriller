@@ -243,8 +243,10 @@
 #  define CURLSYS_SIZEOF_CURL_OFF_T     8
 #  define CURLSYS_SUFFIX_CURL_OFF_T     LL
 #  define CURLSYS_SUFFIX_CURL_OFF_TU    ULL
-#  define CURLSYS_TYPEOF_CURL_SOCKLEN_T int
+#  define CURLSYS_TYPEOF_CURL_SOCKLEN_T socklen_t
 #  define CURLSYS_SIZEOF_CURL_SOCKLEN_T 4
+#  define CURLSYS_PULL_SYS_TYPES_H      1
+#  define CURLSYS_PULL_WS2TCPIP_H       1
 
 #elif defined(__VMS)
 #  if defined(__VAX)
@@ -444,6 +446,17 @@
 # define CURLSYS_TYPEOF_CURL_SOCKLEN_T int
 #endif
 
+/* CURLSYS_PULL_WS2TCPIP_H is defined above when inclusion of header file  */
+/* ws2tcpip.h is required here to properly make type definitions below. */
+#ifdef CURLSYS_PULL_WS2TCPIP_H
+#  ifndef WIN32_LEAN_AND_MEAN
+#    define WIN32_LEAN_AND_MEAN
+#  endif
+#  include <windows.h>
+#  include <winsock2.h>
+#  include <ws2tcpip.h>
+#endif
+
 /* CURLSYS_PULL_SYS_TYPES_H is defined above when inclusion of header file  */
 /* sys/types.h is required here to properly make type definitions below. */
 #ifdef CURLSYS_PULL_SYS_TYPES_H
