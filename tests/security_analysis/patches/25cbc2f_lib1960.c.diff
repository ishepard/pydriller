@@ -68,7 +68,7 @@ static int sockopt_cb(void *clientp,
 }
 
 /* Expected args: URL IP PORT */
-int test(char *URL)
+CURLcode test(char *URL)
 {
   CURL *curl = NULL;
   CURLcode res = TEST_ERR_MAJOR_BAD;
@@ -78,7 +78,7 @@ int test(char *URL)
   unsigned short port;
 
   if(!strcmp("check", URL))
-    return 0; /* no output makes it not skipped */
+    return CURLE_OK; /* no output makes it not skipped */
 
   port = (unsigned short)atoi(libtest_arg3);
 
@@ -140,10 +140,10 @@ test_cleanup:
   return res;
 }
 #else
-int test(char *URL)
+CURLcode test(char *URL)
 {
   (void)URL;
   printf("lacks inet_pton\n");
-  return 0;
+  return CURLE_OK;
 }
 #endif
