@@ -23,6 +23,11 @@
  * $Id$
  ***************************************************************************/
 
+/*
+ * CAUTION: this header is designed to work when included by the app-side
+ * as well as the library. Do not mix with library internals!
+ */
+
 #include "setup.h"
 
 #if defined(WIN32) && !defined(__GNUC__) || defined(__MINGW32__)
@@ -40,10 +45,20 @@ struct timeval {
 #endif
 #endif
 
-struct timeval Curl_tvnow(void);
+struct timeval curlx_tvnow(void);
 
-/* the diff is from now on returned in number of milliseconds! */
-long Curl_tvdiff(struct timeval t1, struct timeval t2);
+/*
+ * Make sure that the first argument (t1) is the more recent time and t2 is
+ * the older time, as otherwise you get a weird negative time-diff back...
+ *
+ * Returns: the time difference in number of milliseconds.
+ */
+long curlx_tvdiff(struct timeval t1, struct timeval t2);
 long Curl_tvlong(struct timeval t1);
 
+/* These two defines below exist to provide the older API for library
+   internals only. */
+#define Curl_tvnow() curlx_tvnow()
+#define Curl_tvdiff(x,y) curlx_tvdiff(x,y)
+
 #endif
