@@ -26,17 +26,21 @@
 #include "server_setup.h"
 
 #ifdef USE_WINSOCK
-/* errno.h values */
-#undef  EINTR
-#define EINTR    4
-#undef  EAGAIN
-#define EAGAIN  11
-#undef  ENOMEM
-#define ENOMEM  12
-#undef  EINVAL
-#define EINVAL  22
-#undef  ERANGE
-#define ERANGE  34
+#define SOCKEADDRINUSE   WSAEADDRINUSE
+#define SOCKECONNREFUSED WSAECONNREFUSED
+#define SOCKEINPROGRESS  WSAEINPROGRESS
+#define SOCKEINTR        WSAEINTR
+#define SOCKEINVAL       WSAEINVAL
+#define SOCKEISCONN      WSAEISCONN
+#define SOCKEWOULDBLOCK  WSAEWOULDBLOCK
+#else
+#define SOCKEADDRINUSE   EADDRINUSE
+#define SOCKECONNREFUSED ECONNREFUSED
+#define SOCKEINPROGRESS  EINPROGRESS
+#define SOCKEINTR        EINTR
+#define SOCKEINVAL       EINVAL
+#define SOCKEISCONN      EISCONN
+#define SOCKEWOULDBLOCK  EWOULDBLOCK
 #endif
 
 enum {
