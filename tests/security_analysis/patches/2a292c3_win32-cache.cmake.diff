@@ -44,6 +44,10 @@ if(MINGW)
   set(HAVE_UTIME_H 1)  # wrapper to sys/utime.h
   set(HAVE_DIRENT_H 1)
   set(HAVE_OPENDIR 1)
+  if(MINGW32CE)
+    set(HAVE_STRTOK_R 0)
+    set(HAVE_FILE_OFFSET_BITS 0)
+  endif()
 else()
   set(HAVE_LIBGEN_H 0)
   set(HAVE_FTRUNCATE 0)
@@ -191,3 +195,16 @@ set(STDC_HEADERS 1)
 
 set(HAVE_SIZEOF_SUSECONDS_T 0)
 set(HAVE_SIZEOF_SA_FAMILY_T 0)
+
+if(WINCE)  # Windows CE exceptions
+  set(HAVE_LOCALE_H 0)
+  set(HAVE_GETADDRINFO 0)
+  set(HAVE_FREEADDRINFO 0)
+  set(HAVE_SETLOCALE 0)
+  set(HAVE_SOCKADDR_IN6_SIN6_SCOPE_ID 0)
+  set(HAVE_SIGNAL 0)
+  set(HAVE_SETMODE 0)
+  if(MINGW32CE)
+    set(HAVE__SETMODE 0)
+  endif()
+endif()
