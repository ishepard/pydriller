@@ -143,7 +143,12 @@ static int loop(int num, CURLM *cm, const char *url, const char *userpwd,
       /* At this point, L is guaranteed to be greater or equal than -1. */
 
       if(L != -1) {
-        int itimeout = (L > (long)INT_MAX) ? INT_MAX : (int)L;
+        int itimeout;
+#if LONG_MAX > INT_MAX
+        itimeout = (L > INT_MAX) ? INT_MAX : (int)L;
+#else
+        itimeout = (int)L;
+#endif
         T.tv_sec = itimeout/1000;
         T.tv_usec = (itimeout%1000)*1000;
       }
