@@ -33,7 +33,7 @@
  * Two FTP uploads, the second with no content sent.
  */
 
-int test(char *URL)
+CURLcode test(char *URL)
 {
   CURL *curl;
   CURLcode res = CURLE_OK;
@@ -51,7 +51,7 @@ int test(char *URL)
     fprintf(stderr, "fopen failed with error: %d %s\n",
             errno, strerror(errno));
     fprintf(stderr, "Error opening file: %s\n", libtest_arg2);
-    return -2; /* if this happens things are major weird */
+    return (CURLcode)-2; /* if this happens things are major weird */
   }
 
   /* get the file size of the local file */
