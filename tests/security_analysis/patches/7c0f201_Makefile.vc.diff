@@ -32,7 +32,7 @@ CFGSET=true
 !MESSAGE   ENABLE_WINSSL=<yes or no>    - Enable native Windows SSL support, defaults to yes
 !MESSAGE   GEN_PDB=<yes or no>          - Generate Program Database (debug symbols for release build)
 !MESSAGE   DEBUG=<yes or no>            - Debug builds
-!MESSAGE   MACHINE=<x86 or x64>         - Target architecture (default x86)
+!MESSAGE   MACHINE=<x86 or x64>         - Target architecture (default x64 on AMD64, x86 on others)
 !ERROR please choose a valid mode
 
 !ENDIF
@@ -55,8 +55,12 @@ ENABLE_SSPI = $(USE_SSPI)
 !ENDIF
 
 # default options
-!IFNDEF MACHINE
-MACHINE = x86
+!IFNDEF MACHINE
+!IF "$(PROCESSOR_ARCHITECTURE)"=="AMD64"
+MACHINE = x64
+!ELSE
+MACHINE = x86
+!ENDIF
 !ENDIF
 
 !IFNDEF ENABLE_IDN
