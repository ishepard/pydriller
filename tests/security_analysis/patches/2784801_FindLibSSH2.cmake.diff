@@ -30,9 +30,22 @@
 # LIBSSH2_LIBRARIES     The libssh2 library names
 # LIBSSH2_VERSION       Version of libssh2
 
-find_path(LIBSSH2_INCLUDE_DIR "libssh2.h")
+if(CURL_USE_PKGCONFIG)
+  find_package(PkgConfig QUIET)
+  pkg_search_module(PC_LIBSSH2 "libssh2")
+endif()
+
+find_path(LIBSSH2_INCLUDE_DIR "libssh2.h"
+  HINTS
+    ${PC_LIBSSH2_INCLUDEDIR}
+    ${PC_LIBSSH2_INCLUDE_DIRS}
+)
 
-find_library(LIBSSH2_LIBRARY NAMES "ssh2" "libssh2")
+find_library(LIBSSH2_LIBRARY NAMES "ssh2" "libssh2"
+  HINTS
+    ${PC_LIBSSH2_LIBDIR}
+    ${PC_LIBSSH2_LIBRARY_DIRS}
+)
 
 if(LIBSSH2_INCLUDE_DIR)
   file(STRINGS "${LIBSSH2_INCLUDE_DIR}/libssh2.h" _libssh2_version_str REGEX "^#define[\t ]+LIBSSH2_VERSION[\t ]+\"(.*)\"")
